const footerYear=document.querySelector(".c-footer__year");footerYear.textContent+=` ${(new Date).getFullYear()}`;const currentYear=document.querySelectorAll(".c-history__current-year");currentYear.forEach(e=>{e.textContent+=`${(new Date).getFullYear().toString().slice(-2)}`});const inViewport=e=>{const{top:o,bottom:t}=e.getBoundingClientRect();return!(o>(window.innerHeight||document.documentElement.clientHeight)||t<0)};let scrollPos=0;const handleHeaderScroll=()=>{const e=document.querySelector("header"),o=window.pageYOffset,t=o<scrollPos;o>250&&e.classList.toggle("c-header--hide",!t),scrollPos=o},handleAppearScroll=()=>{const e=document.getElementsByClassName("appears");Array.from(e).forEach(e=>{inViewport(e)?e.classList.add("appears--in"):e.classList.remove("appears--in")})},handleHistoryScroll=()=>{document.querySelectorAll(".c-history__block").forEach(e=>{const o=e.querySelector(".c-history__subtitle"),{top:t,bottom:r}=e.getBoundingClientRect();t<=60&&r>=136?(o.classList.add("c-history__subtitle--fixed"),o.classList.remove("c-history__subtitle--fixed-out")):t<=60&&r>=80?o.classList.add("c-history__subtitle--fixed-out"):(o.classList.remove("c-history__subtitle--fixed"),o.classList.remove("c-history__subtitle--fixed-out"))})};let scrollTimeout;const handleScroll=()=>{handleHeaderScroll(),handleAppearScroll(),handleHistoryScroll()};document.addEventListener("scroll",()=>{scrollTimeout&&window.cancelAnimationFrame(scrollTimeout),scrollTimeout=window.requestAnimationFrame(handleScroll)});const downloadButton=document.getElementById("downloadMarkdown");downloadButton&&downloadButton.addEventListener("click",()=>{"undefined"!=typeof MarkdownConverter?MarkdownConverter.convert():console.error("MarkdownConverter not loaded")});const copyLabels={es:{copy:"Copiar",copied:"Copiado"},en:{copy:"Copy",copied:"Copied"},pt:{copy:"Copiar",copied:"Copiado"}},lang=document.documentElement.lang||"es",labels=copyLabels[lang]||copyLabels.es;document.querySelectorAll(".c-post__prompt--scroll").forEach(e=>{const o=e.querySelector(".c-post__copy-btn"),t=e.querySelector(".c-post__prompt-code");o&&t&&(o.dataset.tooltip=labels.copy,o.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(t.textContent),o.dataset.tooltip=labels.copied,o.classList.add("c-post__copy-btn--copied"),setTimeout(()=>{o.dataset.tooltip=labels.copy,o.classList.remove("c-post__copy-btn--copied")},2e3)}catch(e){console.error("Error al copiar:",e)}}))});